# 🔴 Red Ball Guide ゲームデザイン仕様書

## 1. コンセプト
- **タイトル**: Red Ball Guide
- **ジャンル**: 物理パズル
- **プラットフォーム**: Roblox
- **ターゲット**: カジュアルゲーマー、パズル愛好家
- **概要**: 限られた種類の基本ブロックを組み合わせ、ルートを構築してボールをゴールまで導く物理パズルゲーム。

## 2. ゲームプレイ

### 2.1 進行システム
- **ステージ制**:
  - レベル1から順に進行する。
  - ステージごとに使用可能なブロックの種類と個数が決まっている（インベントリ制）。
  - クリアすると次のステージがアンロックされる。
- **制限事項**:
  - 制限時間：なし
  - ゲームオーバー：なし（何度でもリトライ可能）

### 2.2 操作方法
- **ブロックの配置（ドラッグ＆ドロップ）**:
  - 画面左側の「ドロワーメニュー」からブロックのアイコンをドラッグし、ステージ上の任意のグリッドにドロップして配置する。
  - 配置はグリッドにスナップされる。
- **ブロックの操作（配置後）**:
  - **選択**: 配置済みのブロックをクリックして選択状態にする。
  - **移動**: マウスでのドラッグ移動は不可。画面下部の矢印ボタン（↑, ↓, ←, →）を使用して、グリッド単位で位置を調整する。
  - **回転**: 画面下部の回転ボタン（X, Y, Z軸）を使用して、90度単位で回転させる。回転時はTweenServiceによるアニメーションを伴う。
- **ブロックの結合（ウェルド）**:
  - **結合**: 隣接する複数のブロックを選択し「結合」ボタンを押すと、それらが溶接（WeldConstraint）され、一つの複合ブロックとして扱われる。
  - **解除**: 結合されたブロックを選択し「解除」ボタンを押すと、元の個別のブロックに戻る。
- **カメラ操作**:
  - 右クリックドラッグ：視点回転
  - ホイール：ズームイン/アウト
  - WASD / 矢印キー：カメラ移動

### 2.3 シミュレーション
- **スタート**: 「スタート」ボタンを押すと物理演算が有効になり、ボールが動き出す。
  - パターンA：自然落下で開始
  - パターンB：初速が与えられた状態で開始
- **リセット**: 「リセット」ボタンを押すと、ボールの位置と速度が初期化される。配置したブロックはそのまま維持される。

### 2.4 クリア条件
- ボールが「ゴールエリア」または「ゴールパーツ」に接触すること。

## 3. ゲーム要素

### 3.1 ブロック（パーツ）
- **基本形状**:
  - 立方体 (Block)
  - 球 (Sphere)
  - ウェッジ (Wedge)
  - コーナーウェッジ (CornerWedge)
  - 円柱 (Cylinder)
- **カスタム形状**: 基本ブロックを結合機能で組み合わせた独自の形状。

### 3.2 ギミック
- **スロープ**: ボールを転がすための基本的な傾斜。
- **バネ**: ボールが接触すると弾き飛ばす（高反発）。
- **扇風機**: 特定のエリア（Zone）に入ったボールに対して、継続的な風力を与える。

### 3.3 UI (ユーザーインターフェース)
- **ドロワーメニュー（左側）**:
  - ステージで使用可能なブロックを3Dアイコンで一覧表示。
  - 開閉可能（トグル式）。
- **操作パネル（下部）**:
  - 移動ボタン（十字キー）
  - 回転ボタン（X, Y, Z軸）
  - 結合 / 解除ボタン
  - 削除ボタン
- **ヘッダー / ゲーム制御**:
  - ステージ番号表示
  - スタートボタン
  - リセットボタン

## 4. マネタイズ (課金要素)
- **ヒント機能**:
  - 難しいステージでの正解ルートや、重要なブロックの配置位置を可視化する。
- **軌道予測線**:
  - ボールの物理演算シミュレーション結果（軌跡）をラインで事前表示する。
  - 序盤ステージは無料開放、以降のステージでは課金またはパスが必要。

## 5. 技術仕様
- **エンジン**: Roblox Studio
- **言語**: Luau
- **保存データ**: DataStoreServiceを使用（クリア状況、カスタムブロック構成など）。
- **物理**: Roblox標準物理エンジン + BodyVelocity/VectorForce（ギミック用）。